{"version":3,"sources":["src/index.js"],"names":["state","temperature","weather","raiseTemp","document","getElementById","textContent","changeTempDisplay","temp","tempEmoji","style","color","changeWeatherDisplay","skySituation","value","skyEmoji","body","backgroundImage","lowerTemp","changeCity","searchBar","resetCity","city","kelvinToFahrenheit","k","Math","floor","getWeatherByLocation","lat","lon","axios","get","params","then","response","console","log","tempInKelvin","data","current","tempInFahrenheit","catch","error","getWeather","location","q","registerEventHandlers","addEventListener"],"mappings":"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","file":"src.ae1410e4.js","sourceRoot":"..","sourcesContent":["('use strict');\n\nconst state = {\n  temperature: 0,\n  weather: 'cloudy',\n};\n\nconst raiseTemp = () => {\n  state.temperature += 1;\n  const temp = document.getElementById('temp');\n  temp.textContent = `${state.temperature}°`;\n  changeTempDisplay();\n};\n\nconst changeTempDisplay = () => {\n  const temp = document.getElementById('temp');\n  const tempEmoji = document.getElementById('tempEmoji');\n  if (state.temperature >= 80) {\n    temp.style.color = '#fb392b';\n    tempEmoji.textContent = '🥵';\n  } else if (state.temperature >= 70) {\n    temp.style.color = '#f88800';\n    tempEmoji.textContent = '🙂';\n  } else if (state.temperature >= 60) {\n    temp.style.color = '#fbc200';\n    tempEmoji.textContent = '🙂';\n  } else if (state.temperature >= 40) {\n    temp.style.color = '#10c095';\n    tempEmoji.textContent = '😬';\n  } else if (state.temperature < 40) {\n    temp.style.color = '#0ebede';\n    tempEmoji.textContent = '🥶';\n  }\n};\n\nconst changeWeatherDisplay = () => {\n  const skySituation = document.getElementById('skySituation').value;\n  const skyEmoji = document.getElementById('skyEmoji');\n  const body = document.body.style;\n  state.weather = skySituation;\n  if (state.weather === 'default') {\n    skyEmoji.textContent = '🌤';\n    body.backgroundImage = \"url('../assets/default-sky.jpg')\";\n  } else if (state.weather === 'clear') {\n    skyEmoji.textContent = '☀️';\n    body.backgroundImage = \"url('../assets/clear-sky.avif')\";\n  } else if (state.weather === 'cloudy') {\n    skyEmoji.textContent = '☁️';\n    body.backgroundImage = \"url('../assets/cloudy-sky.jpg')\";\n  } else if (state.weather === 'raining') {\n    skyEmoji.textContent = '🌧';\n    body.backgroundImage = \"url('../assets/raining-sky.jpg')\";\n  } else if (state.weather === 'snowing') {\n    skyEmoji.textContent = '❄️';\n    body.backgroundImage = \"url('../assets/snowing-sky.jpg')\";\n  }\n};\n\nconst lowerTemp = () => {\n  state.temperature -= 1;\n  const temp = document.getElementById('temp');\n  temp.textContent = `${state.temperature}°`;\n  changeTempDisplay();\n};\n\nconst changeCity = () => {\n  const searchBar = document.getElementById('searchBar');\n  const city = document.getElementById('city');\n  city.textContent = searchBar.value;\n};\n\nconst resetCity = () => {\n  const city = document.getElementById('city');\n  const searchBar = document.getElementById('searchBar');\n  city.textContent = 'City, State';\n  searchBar.value = 'Enter a city';\n};\n\nconst kelvinToFahrenheit = (k) => {\n  return Math.floor(1.8 * (k - 273) + 32);\n};\n\nconst getWeatherByLocation = (lat, lon) => {\n  axios\n    .get('http://127.0.0.1:5000/weather', {\n      params: { lat: `${lat}`, lon: `${lon}` },\n    })\n    .then((response) => {\n      console.log('success');\n      const tempInKelvin = response.data.current.temp;\n      console.log(tempInKelvin);\n      const tempInFahrenheit = kelvinToFahrenheit(tempInKelvin);\n      state.temperature = tempInFahrenheit;\n      const temp = document.getElementById('temp');\n      temp.textContent = `${state.temperature}°`;\n      changeTempDisplay();\n    })\n    .catch((error) => {\n      console.log('error', error.response);\n    });\n};\n\nconst getWeather = () => {\n  const searchBar = document.getElementById('searchBar');\n  const location = searchBar.value;\n  axios\n    .get('http://127.0.0.1:5000/location', {\n      params: { q: `${location}` },\n    })\n    .then((response) => {\n      console.log('success');\n      const lat = response.data[0].lat;\n      const lon = response.data[0].lon;\n      console.log({ lat, lon });\n      getWeatherByLocation(lat, lon);\n    })\n    .catch((error) => {\n      console.log('error', error.response.data);\n    });\n};\n\nconst registerEventHandlers = () => {\n  const hotterButton = document.getElementById('hotterButton');\n  hotterButton.addEventListener('click', raiseTemp);\n  const colderButton = document.getElementById('colderButton');\n  colderButton.addEventListener('click', lowerTemp);\n  const searchBar = document.getElementById('searchBar');\n  searchBar.addEventListener('input', changeCity);\n  const searchButton = document.getElementById('searchButton');\n  searchButton.addEventListener('click', getWeather);\n  const skyDropdown = document.getElementById('skySituation');\n  skyDropdown.addEventListener('click', changeWeatherDisplay);\n  const resetButton = document.getElementById('resetButton');\n  resetButton.addEventListener('click', resetCity);\n};\n\ndocument.addEventListener('DOMContentLoaded', registerEventHandlers);\n"]}